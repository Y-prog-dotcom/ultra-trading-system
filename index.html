<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PASCAL BOT PRO - Real Trading XM MetaAPI</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: #f0f9ff; overflow: hidden; min-height: 100vh; }
        .trading-window { position: fixed; left: 20px; top: 20px; width: 480px; max-height: 90vh; background: linear-gradient(135deg, #111827 0%, #000000 50%, #111827 100%); border-radius: 12px; border: 2px solid #10b981; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8); display: flex; flex-direction: column; z-index: 9999; overflow: hidden; }
        .header { background: linear-gradient(90deg, #10b981 0%, #059669 100%); color: #000; padding: 12px 16px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; cursor: grab; user-select: none; }
        .header:active { cursor: grabbing; }
        .header-title { display: flex; align-items: center; gap: 8px; font-size: 14px; }
        .status-dot { width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .header-buttons { display: flex; gap: 8px; }
        button { background: none; border: none; color: #000; cursor: pointer; font-size: 18px; padding: 4px 8px; border-radius: 4px; transition: all 0.2s; }
        button:hover { background: rgba(0, 0, 0, 0.2); }
        .content { flex: 1; padding: 16px; overflow-y: auto; }
        .asset-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 16px; }
        .asset-btn { padding: 10px; border: 2px solid #475569; background: #1e293b; color: #cbd5e1; border-radius: 8px; cursor: pointer; font-size: 12px; transition: all 0.2s; font-weight: 600; }
        .asset-btn:hover { background: #334155; }
        .asset-btn.active { background: #10b981; color: #000; border-color: #059669; }
        .price-box { background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); border: 2px solid #10b981; border-radius: 10px; padding: 16px; text-align: center; margin-bottom: 16px; }
        .price-symbol { font-size: 14px; color: #94a3b8; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }
        .trend-indicator { display: flex; align-items: center; gap: 6px; font-size: 12px; font-weight: bold; }
        .trend-dot { width: 6px; height: 6px; border-radius: 50%; animation: pulse 2s infinite; }
        .trend-bullish .trend-dot { background: #10b981; } .trend-bearish .trend-dot { background: #ef4444; } .trend-neutral .trend-dot { background: #94a3b8; }
        .trend-bullish { color: #10b981; } .trend-bearish { color: #ef4444; } .trend-neutral { color: #94a3b8; }
        .price-value { font-size: 32px; font-weight: bold; color: #10b981; font-family: 'Courier New', monospace; margin: 8px 0; }
        .price-info { font-size: 12px; color: #94a3b8; }
        .status-box { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); border: 1px solid #10b981; border-radius: 8px; padding: 10px; margin-bottom: 16px; font-size: 11px; }
        .status-label { color: #94a3b8; margin-bottom: 4px; }
        .status-value { color: #10b981; font-weight: bold; }
        .metrics-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 16px; }
        .metric-card { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); border: 1px solid #334155; border-radius: 8px; padding: 12px; font-size: 11px; }
        .metric-label { color: #94a3b8; margin-bottom: 4px; }
        .metric-value { font-size: 18px; font-weight: bold; color: #10b981; }
        .start-button { width: 100%; padding: 14px; background: linear-gradient(90deg, #10b981 0%, #059669 100%); color: white; border: none; border-radius: 8px; font-weight: bold; font-size: 14px; cursor: pointer; transition: all 0.3s; margin-bottom: 16px; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .start-button:hover { transform: scale(1.02); }
        .start-button.active { background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%); }
        .indicators-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 16px; }
        .indicator-box { background: #1e293b; border: 1px solid #334155; border-radius: 8px; padding: 10px; font-size: 11px; }
        .indicator-label { color: #94a3b8; margin-bottom: 6px; display: flex; justify-content: space-between; }
        .indicator-value { font-weight: bold; font-size: 14px; margin-bottom: 6px; color: #10b981; }
        .progress-bar { width: 100%; height: 4px; background: #0f172a; border-radius: 2px; overflow: hidden; }
        .progress-fill { height: 100%; transition: width 0.2s; border-radius: 2px; background: #10b981; }
        .signals-feed { border: 1px solid #334155; border-radius: 8px; max-height: 200px; overflow-y: auto; padding: 8px; font-size: 11px; }
        .signal-item { background: linear-gradient(90deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0) 100%); border-left: 3px solid #10b981; padding: 10px; margin-bottom: 8px; border-radius: 4px; display: flex; justify-content: space-between; align-items: center; }
        .signal-item.sell { background: linear-gradient(90deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0) 100%); border-left-color: #ef4444; }
        .signal-type { font-weight: bold; padding: 2px 8px; border-radius: 3px; font-size: 10px; }
        .signal-type.buy { background: #10b981; color: white; } .signal-type.sell { background: #ef4444; color: white; }
        .signal-confidence { color: #10b981; font-weight: bold; }
        .empty-message { text-align: center; color: #64748b; padding: 20px; font-size: 12px; }
        .real-indicator { color: #10b981; font-size: 10px; font-weight: bold; margin-left: 8px; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
</head>
<body>
    <div class="trading-window" id="tradingWindow">
        <div class="header" id="header">
            <div class="header-title">
                <span class="status-dot"></span>
                <span>PASCAL BOT PRO - XM REAL</span>
            </div>
            <div class="header-buttons">
                <button id="minimizeBtn">‚àí</button>
                <button id="closeBtn">‚úï</button>
            </div>
        </div>
        <div class="content" id="content">
            <div class="asset-grid" id="assetGrid"></div>
            <div class="price-box">
                <div class="price-symbol">
                    <span id="symbolName">EUR/USD</span>
                    <div class="trend-indicator trend-bullish" id="trendIndicator">
                        <span class="trend-dot"></span>
                        <span id="trendText">BULLISH</span>
                        <span class="real-indicator">üî¥ LIVE</span>
                    </div>
                </div>
                <div class="price-value" id="priceValue">1.0875</div>
                <div class="price-info"><span id="assetName">Euro</span> <span id="spread"></span></div>
            </div>
            <div class="status-box">
                <div class="status-label">Connection Status:</div>
                <div class="status-value" id="connectionStatus">Connecting to MetaAPI...</div>
            </div>
            <button class="start-button" id="startBtn"><span id="startBtnText">üöÄ START ANALYSIS</span></button>
            <div class="indicators-grid">
                <div class="indicator-box"><div class="indicator-label"><span>RSI</span><span class="indicator-value" id="rsiValue">50.0</span></div><div class="progress-bar"><div class="progress-fill" id="rsiBar" style="width: 50%"></div></div></div>
                <div class="indicator-box"><div class="indicator-label"><span>ADX</span><span class="indicator-value" id="adxValue">25.0</span></div><div class="progress-bar"><div class="progress-fill" id="adxBar" style="width: 50%"></div></div></div>
                <div class="indicator-box"><div class="indicator-label"><span>Stoch</span><span class="indicator-value" id="stochValue">50.0</span></div><div class="progress-bar"><div class="progress-fill" id="stochBar" style="width: 50%"></div></div></div>
            </div>
            <div><div style="font-size: 12px; font-weight: bold; color: #10b981; margin-bottom: 8px;">Real Signals (M1)</div><div class="signals-feed" id="signalsFeed"><div class="empty-message">‚è≥ Waiting for connection...</div></div></div>
        </div>
    </div>
    <script>
        // Configuration
        const CONFIG = {
            API_KEY: 'eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiJiMmUzMjYwMjc1YWI4NTI4ZTA2ZDE4YmVmMjkzOGFjYyIsImFjY2Vzc1J1bGVzIjpbeyJpZCI6InRyYWRpbmctYWNjb3VudC1tYW5hZ2VtZW50LWFwaSIsIm1ldGhvZHMiOlsidHJhZGluZy1hY2NvdW50LW1hbmFnZW1lbnQtYXBpOnJlc3Q6cHVibGljOio6KiJdLCJyb2xlcyI6WyJyZWFkZXIiLCJ3cml0ZXIiXSwicmVzb3VyY2VzIjpbIio6JFVTRVJfSUQkOioiXX0seyJpZCI6Im1ldGFhcGktcmVzdC1hcGkiLCJtZXRob2RzIjpbIm1ldGFhcGktYXBpOnJlc3Q6cHVibGljOio6KiJdLCJyb2xlcyI6WyJyZWFkZXIiLCJ3cml0ZXIiXSwicmVzb3VyY2VzIjpbIio6JFVTRVJfSUQkOioiXX0seyJpZCI6Im1ldGFhcGktcnBjLWFwaSIsIm1ldGhvZHMiOlsibWV0YWFwaS1hcGk6d3M6cHVibGljOio6KiJdLCJyb2xlcyI6WyJyZWFkZXIiLCJ3cml0ZXIiXSwicmVzb3VyY2VzIjpbIio6JFVTRVJfSUQkOioiXX0seyJpZCI6Im1ldGFhcGktcmVhbC10aW1lLXN0cmVhbWluZy1hcGkiLCJtZXRob2RzIjpbIm1ldGFhcGktYXBpOndzOnB1YmxpYzoqOioiXSwicm9sZXMiOlsicmVhZGVyIiwid3JpdGVyIl0sInJlc291cmNlcyI6WyIqOiRVU0VSX0lEJDoqIl19LHsiaWQiOiJtZXRhc3RhdHMtYXBpIiwibWV0aG9kcyI6WyJtZXRhc3RhdHMtYXBpOnJlc3Q6cHVibGljOio6KiJdLCJyb2xlcyI6WyJyZWFkZXIiLCJ3cml0ZXIiXSwicmVzb3VyY2VzIjpbIio6JFVTRVJfSUQkOioiXX0seyJpZCI6InJpc2stbWFuYWdlbWVudC1hcGkiLCJtZXRob2RzIjpbInJpc2stbWFuYWdlbWVudC1hcGk6cmVzdDpwdWJsaWM6KjoqIl0sInJvbGVzIjpbInJlYWRlciIsIndyaXRlciJdLCJyZXNvdXJjZXMiOlsiKjokVVNFUl9JRCQ6KiJdfSx7ImlkIjoiY29weWZhY3RvcnktYXBpIiwibWV0aG9kcyI6WyJjb3B5ZmFjdG9yeS1hcGk6cmVzdDpwdWJsaWM6KjoqIl0sInJvbGVzIjpbInJlYWRlciIsIndyaXRlciJdLCJyZXNvdXJjZXMiOlsiKjokVVNFUl9JRCQ6KiJdfSx7ImlkIjoibXQtbWFuYWdlci1hcGkiLCJtZXRob2RzIjpbIm10LW1hbmFnZXItYXBpOnJlc3Q6ZGVhbGluZzoqOioiLCJtdC1tYW5hZ2VyLWFwaTpyZXN0OnB1YmxpYzoqOioiXSwicm9sZXMiOlsicmVhZGVyIiwid3JpdGVyIl0sInJlc291cmNlcyI6WyIqOiRVU0VSX0lEJDoqIl19LHsiaWQiOiJiaWxsaW5nLWFwaSIsIm1ldGhvZHMiOlsiYmlsbGluZy1hcGk6cmVzdDpwdWJsaWM6KjoqIl0sInJvbGVzIjpbInJlYWRlciJdLCJyZXNvdXJjZXMiOlsiKjokVVNFUl9JRCQ6KiJdfV0sImlnbm9yZVJhdGVMaW1pdHMiOmZhbHNlLCJ0b2tlbklkIjoiMjAyMTAyMTMiLCJpbXBlcnNvbmF0ZWQiOmZhbHNlLCJyZWFsVXNlcklkIjoiYjJlMzI2MDI3NWFiODUyOGUwNmQxOGJlZjI5MzhhY2MiLCJpYXQiOjE3NjM0MzEwMDl9.Rt8ZpW2omXqrJ-eB8bgyotPDCGeih2hsVZvCBSFk6oWHNHc7Q3lwFKPfk-yCYU149CcwglWzlQfjFPHOJWv6xedNNQDb5k8Epjw6YXZbyu_M8Ka8JOehYEnsOEwb_gCRFuKkb-ahCm_jDEtvYEGbsYZMdW6iDjy4wHSoU5d2xJ-V4Gsq5iRwARczJj_d8q_8hXJ--fYTCIaXFbyXrJPrrI8c1VW_yq0zhauNLcPJVPcx0GzFyL30gRJwMbsfQz9YzMul7uh5AA_cRYh5Ty5qVKvzDz6AtdtABJFmPvX6-gf9DWNzuJHupE4vVD9RUmvuHBRnev9joCyusjv1tODRr9faq3oxG7Q64yeFo3Y3S4h4JmQvRPp9Nc8eUF_CRzkNqS72nVWPKSV2mSQvSuWKK505AXhD_yonxcoeZO-H7h-fz3M4qi9zeP4eXuC1dWTL8QfJHqrRewCubLmevsVPfUFpndo8AJ-dsjYT3eLwmlZCMPIztARiJR1XNCcTk_YBSCt12k-NO67gBhuPhpCKAAwIof87jZvNRD_BAIAdBLUoU6jwHx_181uAklQ-OjQxi9QiPnic-hkCOdXVbtFjXPeQD6Vfj1kGEmoJdfbEb0lk5UXBSt1gkT7XV-H8Mz6Cx0sJXb78NR6-CMKRGYVphpo8yAznUTzo6uh3jTOQAvM',
            ACCOUNT_ID: '390844009',
            SYMBOLS: ['EURUSD', 'GBPUSD', 'XAUUSD', 'BTCUSD', 'USDJPY', 'AUDUSD']
        };

        const assets = [
            { symbol: 'EURUSD', name: 'Euro', decimals: 5 },
            { symbol: 'GBPUSD', name: 'Pound', decimals: 5 },
            { symbol: 'XAUUSD', name: 'Gold', decimals: 2 },
            { symbol: 'BTCUSD', name: 'Bitcoin', decimals: 2 },
            { symbol: 'USDJPY', name: 'Yen', decimals: 2 },
            { symbol: 'AUDUSD', name: 'Aussie', decimals: 5 }
        ];

        let state = {
            selectedAssetIndex: 0,
            isActive: false,
            currentPrice: 0,
            priceHistory: [],
            signals: [],
            intervalId: null,
            dragOffset: { x: 0, y: 0 },
            connected: false
        };

        function init() {
            setupAssetButtons();
            setupDragging();
            setupEventListeners();
            connectToMetaAPI();
        }

        function setupAssetButtons() {
            const grid = document.getElementById('assetGrid');
            assets.forEach((asset, idx) => {
                const btn = document.createElement('button');
                btn.className = `asset-btn ${idx === 0 ? 'active' : ''}`;
                btn.textContent = asset.symbol;
                btn.onclick = () => switchAsset(idx);
                grid.appendChild(btn);
            });
        }

        async function connectToMetaAPI() {
            try {
                document.getElementById('connectionStatus').textContent = 'üîÑ Connecting...';
                
                // Fetch account info
                const response = await fetch(`https://api.metaapi.cloud/v1/accounts/${CONFIG.ACCOUNT_ID}`, {
                    headers: { 'auth-token': CONFIG.API_KEY }
                });
                
                if (response.ok) {
                    state.connected = true;
                    document.getElementById('connectionStatus').textContent = '‚úÖ Connected to XM';
                    await fetchInitialPrice();
                } else {
                    throw new Error('Connection failed');
                }
            } catch (err) {
                document.getElementById('connectionStatus').textContent = '‚ùå Connection Error';
                console.error('MetaAPI Error:', err);
            }
        }

        async function fetchInitialPrice() {
            try {
                const symbol = assets[state.selectedAssetIndex].symbol;
                const response = await fetch(`https://api.metaapi.cloud/v1/accounts/${CONFIG.ACCOUNT_ID}/rpc`, {
                    method: 'POST',
                    headers: {
                        'auth-token': CONFIG.API_KEY,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        method: 'getSymbolPrice',
                        params: { symbol: symbol }
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.result) {
                        state.currentPrice = data.result.bid || data.result.ask;
                        state.priceHistory = [state.currentPrice];
                        updateUI();
                    }
                }
            } catch (err) {
                console.error('Fetch price error:', err);
            }
        }

        async function fetchRealPrice() {
            try {
                const symbol = assets[state.selectedAssetIndex].symbol;
                const response = await fetch(`https://api.metaapi.cloud/v1/accounts/${CONFIG.ACCOUNT_ID}/rpc`, {
                    method: 'POST',
                    headers: {
                        'auth-token': CONFIG.API_KEY,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        method: 'getSymbolPrice',
                        params: { symbol: symbol }
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.result) {
                        const newPrice = data.result.bid || data.result.ask;
                        state.priceHistory.push(newPrice);
                        if (state.priceHistory.length > 100) state.priceHistory.shift();
                        state.currentPrice = newPrice;
                        checkForSignals();
                        updateUI();
                    }
                }
            } catch (err) {
                console.error('Price fetch error:', err);
            }
        }

        function switchAsset(idx) {
            state.selectedAssetIndex = idx;
            state.priceHistory = [];
            state.signals = [];
            document.querySelectorAll('.asset-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === idx);
            });
            fetchInitialPrice();
        }

        function setupDragging() {
            const header = document.getElementById('header');
            const window = document.getElementById('tradingWindow');
            
            header.addEventListener('mousedown', (e) => {
                state.dragOffset.x = e.clientX - window.offsetLeft;
                state.dragOffset.y = e.clientY - window.offsetTop;
                
                function move(e) {
                    window.style.left = (e.clientX - state.dragOffset.x) + 'px';
                    window.style.top = (e.clientY - state.dragOffset.y) + 'px';
                }
                
                function stop() {
                    document.removeEventListener('mousemove', move);
                    document.removeEventListener('mouseup', stop);
                }
                
                document.addEventListener('mousemove', move);
                document.addEventListener('mouseup', stop);
            });
        }

        function setupEventListeners() {
            document.getElementById('startBtn').addEventListener('click', toggleAnalysis);
            document.getElementById('minimizeBtn').addEventListener('click', minimize);
            document.getElementById('closeBtn').addEventListener('click', close);
        }

        function toggleAnalysis() {
            state.isActive = !state.isActive;
            if (state.isActive) {
                startAnalysis();
            } else {
                stopAnalysis();
            }
            updateUI();
        }

        function startAnalysis() {
            state.intervalId = setInterval(() => {
                if (state.connected) {
                    fetchRealPrice();
                }
            }, 1000);
        }

        function stopAnalysis() {
            if (state.intervalId) {
                clearInterval(state.intervalId);
                state.intervalId = null;
            }
        }

        function calculateRSI(prices, period = 14) {
            if (prices.length < period) return 50;
            let gains = 0, losses = 0;
            for (let i = prices.length - period; i < prices.length; i++) {
                const diff = prices[i] - prices[i - 1];
                if (diff > 0) gains += diff;
                else losses -= diff;
            }
            const avgGain = gains / period;
            const avgLoss = losses / period;
            const rs = avgLoss === 0 ? 100 : avgGain / avgLoss;
            return 100 - (100 / (1 + rs));
        }

        function calculateStochastic(prices) {
            if (prices.length < 14) return 50;
            const recent = prices.slice(-14);
            const low = Math.min(...recent);
            const high = Math.max(...recent);
            const current = prices[prices.length - 1];
            return ((current - low) / (high - low)) * 100;
        }

        function checkForSignals() {
            if (state.priceHistory.length < 28) return;
            
            const rsi = calculateRSI(state.priceHistory);
            const stoch = calculateStochastic(state.priceHistory);
            
            let signalType = null;
            let confidence = 0;
            
            if (rsi < 30 && stoch < 20) {
                signalType = 'BUY';
                confidence = Math.min(95, 70 + (50 - rsi));
            } else if (rsi > 70 && stoch > 80) {
                signalType = 'SELL';
                confidence = Math.min(95, 70 + (rsi - 50));
            }
            
            if (signalType && confidence >= 75) {
                const lastSignal = state.signals[0];
                if (!lastSignal || Math.abs(lastSignal.price - state.currentPrice) > state.currentPrice * 0.001) {
                    const signal = {
                        id: Date.now(),
                        type: signalType,
                        price: state.currentPrice,
                        time: new Date().toLocaleTimeString(),
                        confidence: Math.floor(confidence),
                        rsi: Math.floor(rsi),
                        stochastic: Math.floor(stoch)
                    };
                    
                    state.signals.unshift(signal);
                    if (state.signals.length > 10) state.signals.pop();
                }
            }
        }

        function updateUI() {
            const asset = assets[state.selectedAssetIndex];
            
            document.getElementById('priceValue').textContent = state.currentPrice.toFixed(asset.decimals);
            document.getElementById('symbolName').textContent = asset.symbol;
            document.getElementById('assetName').textContent = asset.name;
            
            const btn = document.getElementById('startBtn');
            const btnText = document.getElementById('startBtnText');
            if (state.isActive) {
                btn.classList.add('active');
                btnText.textContent = 'üõë STOP ANALYSIS';
            } else {
                btn.classList.remove('active');
                btnText.textContent = 'üöÄ START ANALYSIS';
            }
            
            if (state.priceHistory.length >= 28) {
                const rsi = calculateRSI(state.priceHistory);
                const stoch = calculateStochastic(state.priceHistory);
                
                document.getElementById('rsiValue').textContent = rsi.toFixed(1);
                document.getElementById('rsiBar').style.width = (rsi) + '%';
                
                document.getElementById('stochValue').textContent = stoch.toFixed(1);
                document.getElementById('stochBar').style.width = (stoch) + '%';
                
                const trendDiv = document.getElementById('trendIndicator');
                const trendText = document.getElementById('trendText');
                
                trendDiv.className = 'trend-indicator';
                if (rsi > 55) {
                    trendDiv.classList.add('trend-bullish');
                    trendText.textContent = 'BULLISH';
                } else if (rsi < 45) {
                    trendDiv.classList.add('trend-bearish');
                    trendText.textContent = 'BEARISH';
                } else {
                    trendDiv.classList.add('trend-neutral');
                    trendText.textContent = 'NEUTRAL';
                }
            }
            
            updateSignalsFeed();
        }

        function updateSignalsFeed() {
            const feed = document.getElementById('signalsFeed');
            
            if (state.signals.length === 0) {
                feed.innerHTML = '<div class="empty-message">' + 
                    (state.isActive ? '‚è≥ Analyzing M1 data...' : 'üéØ Start analysis to see signals') + 
                    '</div>';
                return;
            }
            
            feed.innerHTML = state.signals.map(signal => `
                <div class="signal-item ${signal.type === 'SELL' ? 'sell' : ''}">
                    <div>
                        <span class="signal-type ${signal.type.toLowerCase()}">${signal.type}</span>
                        <span style="color: #94a3b8; margin: 0 8px;">${signal.time}</span>
                    </div>
                    <div>
                        <span style="color: #64748b;">${signal.price.toFixed(5)}</span>
                        <span class="signal-confidence" style="margin-left: 8px;">${signal.confidence}%</span>
                    </div>
                </div>
            `).join('');
        }

        function minimize() {
            const content = document.getElementById('content');
            content.style.display = content.style.display === 'none' ? 'block' : 'none';
        }

        function close() {
            document.getElementById('tradingWindow').style.display = 'none';
            stopAnalysis();
        }

        init();
    </script>
</body>
</html>
